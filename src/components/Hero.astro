---
interface Props {
	heading: string;
	image: string;
	position?: string;
	mobileImage?: string;
	textPosition?: string[];
	mobileTextPosition?: string[];
}

const {
	heading,
	image,
	position = "center",
	textPosition = ["20%", "50%"],
	mobileTextPosition = ["50%", "50%"],
	mobileImage = "center",
} = Astro.props;
---

<div class="hero">
	<h1>{heading}</h1>
</div>

<style
	define:vars={{
		textX: textPosition[0],
		textY: textPosition[1],
		bgPosition: position,
		imageURL: `url(${image})`,
		mobileTextX: mobileTextPosition[0],
		mobileTextY: mobileTextPosition[1],
		mobileImage,
	}}
>
	div.hero {
		background-color: var(--bg-color);
		background-image: var(--imageURL);
		opacity: 0.85;
		background-size: cover;
		background-position: var(--bgPosition);
		height: calc(100dvh - 2rem - 90px);
		border-radius: var(--border-radius);
		pointer-events: none;
		margin-bottom: 1rem;

		& > h1 {
			position: absolute;
			top: 50%;
			left: 50%;
			color: var(--bg-color);
			z-index: 100;
			max-width: 700px;

			@media (width < 768px) {
				top: var(--textY);
				left: var(--textX);
			}

			@media (width < 500px) {
				top: var(--mobileTextY);
				left: var(--mobileTextX);
				transform: translate(-50%, -50%);
			}
		}

		@media (width < 768px) {
			background-position: var(--mobileImage);
		}
	}
</style>
